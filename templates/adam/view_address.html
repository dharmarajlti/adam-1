{% extends 'base.html' %}
{% load static %}
{% block content %}


    <div class="container">
        <header class="blog-header py-3">
            <div class="row flex-nowrap justify-content-between align-items-center">
                <div class="col-4 pt-1">

                </div>
                <div class="col-4 text-center">
                    <a class="blog-header-logo text-dark text-decoration-none" href="#"> ADAMS </a>
                </div>
                <div class="col-4 d-flex justify-content-end align-items-center">

                </div>
            </div>
        </header>


    </div>

    <main class="container">
        <div class="row g-5">
            <div class="col-md-12">
                <article class="blog-post">


                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Co ordinates</th>
                                <th scope="col"> Address </th>
                                <th scope="col"> Address </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> 1 </td>
                                <td>
                                    <a href="#" class="map-btn button" data-latLng="77.580643,12.972442">
                                        77.580643,12.972442
                                    </a>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        <strong> Bengaluru </strong>
                                    </address>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        Karnataka
                                    </address>
                                </td>
                            </tr>
                            <tr>
                                <td> 2 </td>
                                <td>
                                    <a href="#" class="map-btn button" data-latLng="73.856255,18.516726">
                                        73.856255,18.516726
                                    </a>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        <strong> Pune </strong>
                                    </address>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        Maharashtra
                                    </address>
                                </td>
                            </tr>
                            <tr>
                                <td> 3 </td>
                                <td>
                                    <a href="#" class="map-btn button" data-latLng="72.865030,19.089154">
                                        72.865030,19.089154
                                    </a>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        <strong> Mumbai </strong>
                                    </address>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        Maharashtra
                                    </address>
                                </td>
                            </tr>
                            <tr>
                                <td> 4 </td>
                                <td>
                                    <a href="#" class="map-btn button" data-latLng="76.652985,12.311827">
                                        76.652985,12.311827
                                    </a>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        <strong> Mysuru </strong>
                                    </address>
                                </td>
                                <td>
                                    <address class="mb-0">
                                        Karnataka
                                    </address>
                                </td>
                            </tr>

                        </tbody>

                    </table>

                </article>

            </div>



            <div class="col-md-8">
                <div class="pt-3">
                    <div id="map" class="map mb-3" style='height: 500px;'></div>
                </div>
            </div>
        </div>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>

        $(document).on("click", ".button", function (e) {
            e.preventDefault();
            var latLng = $(this).attr("data-latLng");
            let newLat = latLng.split(',');
            let long = parseFloat(newLat[0]);
            let lat = parseFloat(newLat[1]);
            // initialize(latLng);
            // let locationValuesa = long + ',' + lat;

            mapboxgl.accessToken = 'pk.eyJ1IjoicHJhdmVlbmxrdW1hciIsImEiOiJjbDBncnp6MGcwMHBkM29vMjE2YjB5ZXJ2In0.luURpRwktZMoOvxihp_J_A';
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v11', // style URL
                center: [long, lat], // starting position [lng, lat]
                // center: latLng,
                zoom: 14 // starting zoom
            });

            // Create a default Marker and add it to the map.
            const marker1 = new mapboxgl.Marker()
                .setLngLat([long, lat])
                .addTo(map);



        }); 
    </script>

{% endblock %}